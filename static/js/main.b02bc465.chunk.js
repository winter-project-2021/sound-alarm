(this.webpackJsonpsoundalarm=this.webpackJsonpsoundalarm||[]).push([[0],{111:function(e,t,n){},131:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a,c,o=n(2),r=n(1),i=n.n(r),s=n(17),l=n.n(s),u=n(30),d=n(62),b=n(86),j=n(8),O=(n(111),n(12)),f=n(10),m=n(5),p=n(182),x=n(178),h="LoginState/UPDATE_Login",v="LoginState/UPDATE_Logout",g=Object(p.a)(h,(function(e){return e})),y=Object(p.a)(v,(function(e){return e})),C=Object(x.a)((a={},Object(f.a)(a,h,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{login:!0,user:t.payload})})),Object(f.a)(a,v,(function(e){return Object(m.a)(Object(m.a)({},e),{},{login:!1,user:{name:"",imgURL:""}})})),a),{login:!1,user:{name:"",imgURL:""}}),S=n(19),k=n.n(S),N=n(18),T="loading/START_LOADING",L="loading/FINISH_LOADING",E=Object(p.a)(T,(function(e){return e})),w=Object(p.a)(L,(function(e){return e})),I=Object(x.a)((c={},Object(f.a)(c,T,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{loading:!0})})),Object(f.a)(c,L,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{loading:!1})})),c),{loading:!1});function R(e,t,n){var a="".concat(t,"_SUCCESS"),c="".concat(e,"/FAILURE");return k.a.mark((function o(r){var i,s;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if("DetectingResult"===e){o.next=3;break}return o.next=3,Object(N.c)(E(t));case 3:return o.prev=3,o.next=6,Object(N.b)(n,r.payload);case 6:if("success"===(i=o.sent).data.result){o.next=15;break}return o.next=10,Object(N.c)({type:c,payload:i.data.msg});case 10:return s={head:"Error!",body:i.data,buttonNum:1,callback:function(){},headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null},o.next=13,Object(N.c)({type:"ModalResult/SET_OPEN",payload:s});case 13:o.next=17;break;case 15:return o.next=17,Object(N.c)({type:a,payload:i.data});case 17:o.next=23;break;case 19:return o.prev=19,o.t0=o.catch(3),o.next=23,Object(N.c)({type:c,payload:o.t0});case 23:return o.prev=23,o.next=26,Object(N.c)(w(t));case 26:return o.finish(23);case 27:case"end":return o.stop()}}),o,null,[[3,19,23,27]])}))}var B,_=n(28),D=n.n(_),A="".concat("https://ec2-18-223-168-173.us-east-2.compute.amazonaws.com/"),F=k.a.mark(q),M="PreferenceResult/SET_PREFERENCE",U="PreferenceResult/SET_LANG",P="PreferenceResult/POST_PREFERENCE",G=Object(p.a)(M,(function(e){return e})),z=Object(p.a)(P,(function(e){return e})),V=Object(p.a)(U,(function(e){return e})),H=R("PreferenceResult",P,(function(e){return D.a.put("".concat(A,"/setting"),e)}));function q(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(P,H);case 2:case"end":return e.stop()}}),F)}var Y,J=Object(x.a)((B={},Object(f.a)(B,M,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{sound:t.payload.alarm,push:t.payload.alarmpush,volume:t.payload.alarmvolume,bell:t.payload.alarmsound,error:!1})})),Object(f.a)(B,"PreferenceResult/POST_PREFERENCE_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{sound:t.payload.alarm,push:t.payload.alarmpush,volume:t.payload.alarmvolume,bell:t.payload.alarmsound,error:!1})})),Object(f.a)(B,"PreferenceResult/FAILURE",(function(e,t){return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.payload),{},{error:!0})})),Object(f.a)(B,U,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{lang:t.payload})})),B),{sound:!0,push:!1,lang:"ko",volume:50,bell:"0",error:!1}),K=k.a.mark(ce),W="DetectingResult/SET_OPEN",Q="DetectingResult/SET_RESULT",X="DetectingResult/SET_CLOSE",Z="DetectingResult/GET_MATCH",$=Object(p.a)(Q,(function(e){return e})),ee=Object(p.a)(W,(function(e){return e})),te=Object(p.a)(X),ne=Object(p.a)(Z,(function(e){return e})),ae=R("DetectingResult",Z,(function(e){return D.a.post("".concat(A,"/audio/test"),e)}));function ce(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(Z,ae);case 2:case"end":return e.stop()}}),K)}var oe=Object(x.a)((Y={},Object(f.a)(Y,W,(function(e){return Object(m.a)(Object(m.a)({},e),{},{open:!0,detect:!1,error:!1})})),Object(f.a)(Y,X,(function(e){return Object(m.a)(Object(m.a)({},e),{},{open:!1,error:!1})})),Object(f.a)(Y,Q,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{result:t.payload.match,open:!0,detect:t.payload.match,name:t.payload.name,error:!1})})),Object(f.a)(Y,"DetectingResult/GET_MATCH_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{detect:t.payload.match,name:t.payload.match?t.payload.name:e.name})})),Object(f.a)(Y,"DetectingResult/OP_FAILURE",(function(e,t){return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.payload),{},{error:!0})})),Y),{result:!1,open:!1,detect:!1,scoreFromServer:null,name:"",error:!1}),re={ko:{ok:"\ud655\uc778",cancel:"\ucde8\uc18c",apply:"\uc801\uc6a9",init:"\ucd08\uae30\ud654",start:"\uc2dc\uc791",detectStart:"\uac10\uc9c0\uc2dc\uc791",stop:"\uc815\uc9c0",name:"\uc774\ub984 \ubcc0\uacbd",sens:"\ubbfc\uac10\ub3c4 \ubcc0\uacbd",loginSuccess:["\ub85c\uadf8\uc778 \uc131\uacf5","\ud658\uc601\ud569\ub2c8\ub2e4! ","\ub2d8"],loginFail:["\ub85c\uadf8\uc778 \uc2e4\ud328","\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."],menu:["\uac00\uc774\ub4dc","\ud14d\uc2a4\ud2b8 \uc124\uc815","\uc18c\ub9ac \uc124\uc815","\uc124\uc815"],guide:["Sound Alarm\uc740 \ubbf8\ub9ac \ub4f1\ub85d\ud55c \uc18c\ub9ac\uc640 \ub2e8\uc5b4\ub97c \ub9c8\uc774\ud06c\ub97c \ud1b5\ud574 \uac10\uc9c0\ub97c \ud574\uc11c \uc54c\ub9bc\uc744 \ubcf4\ub0b4\uc8fc\ub294 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.","\ud14d\uc2a4\ud2b8 \ub4f1\ub85d \ubc29\ubc95","\uac10\uc9c0\ub418\uae38 \uc6d0\ud558\ub294 \ub2e8\uc5b4\ub97c \ud55c\uae00\ub85c \uc785\ub825\ud558\uace0 \ucd94\uac00\ubc84\ud2bc\uc744 \ub20c\ub7ec \ub4f1\ub85d\ud569\ub2c8\ub2e4.","(\uc22b\uc790\ub098 \uc601\uc5b4\ub294 \uc778\uc2dd\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.)","\uc0ac\uc6b4\ub4dc \ub4f1\ub85d \ubc29\ubc95","1. \uc6d0\ud558\ub294 \uc0ac\uc6b4\ub4dc\ub97c \uc2a4\ub9c8\ud2b8\ud3f0\ub4f1\uc744 \uc774\uc6a9\ud558\uc5ec \ub179\uc74c\uc744 \ud569\ub2c8\ub2e4.","(\uc778\uc2dd \uc815\ud655\ub3c4\ub97c \ub192\uc774\uae30 \uc704\ud574\uc11c\ub294 \ucd5c\ub300\ud55c \uc7a1\uc74c \uc5c6\uc774 \ub179\uc74c\uc774 \ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4.)",'2. \ub179\uc74c\ub41c \ud30c\uc77c\uc744 "\ud30c\uc77c \uc5c5\ub85c\ub4dc" \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc11c \uc120\ud0dd\ud569\ub2c8\ub2e4.','3. "\ud30c\uc77c \uc5c5\ub85c\ub4dc" \uc624\ub978\ucabd\uc5d0 \uc788\ub294 \uc785\ub825\ucc3d\uc744 \ud1b5\ud574 \ub4f1\ub85d\ud558\uace0\uc790 \ud558\ub294 \uc774\ub984\uc73c\ub85c \ubcc0\uacbd\uc744 \ud558\uc2e0 \ub4a4 \ucd94\uac00\ubc84\ud2bc\uc744 \ub204\ub985\ub2c8\ub2e4.',"4. \ub9c8\uc774\ud06c\uac00 \ucd5c\ub300\ud55c \ubc16\uc758 \uc18c\ub9ac\ub97c \uc218\uc74c\ud560 \uc218 \uc788\ub3c4\ub85d \uc138\ud305\ud55c \ub4a4 \ubbfc\uac10\ub3c4 \uc124\uc815\uc758 \ub179\uc74c\ubc84\ud2bc\uc744 \ub204\ub985\ub2c8\ub2e4.","(\uc124\uc815\ud0ed\uc758 \ub9c8\uc774\ud06c \ud14c\uc2a4\ud2b8\ub97c \ud1b5\ud574\uc11c \uc18c\ub9ac\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc218\uc74c\ub418\ub294\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.)","5. 3\ucd08\uc774\uc0c1 \ub179\uc74c\ud55c \ub4a4 \uc815\uc9c0\ubc84\ud2bc\uc744 \ub204\ub985\ub2c8\ub2e4. (\uc77c\ubc18\uc801\uc778 \ud658\uacbd\uc5d0\uc11c\uc758 \uc810\uc218\ub97c \uce21\uc815\ud558\ub294 \uacfc\uc815\uc785\ub2c8\ub2e4.)","6. \uce21\uc815\ub41c \ud604\uc7ac \uc810\uc218\ub85c \ubbfc\uac10\ub3c4\ub97c \uc870\uc815\ud569\ub2c8\ub2e4.","7. \ub179\uc74c\ub41c \ud30c\uc77c\uc744 \uc7ac\uc0dd\ud560 \uc900\ube44\ub97c \ud55c \ub4a4 \ub179\uc74c \ubc84\ud2bc\uc744 \ub2e4\uc2dc \ub204\ub985\ub2c8\ub2e4.","8. \ub179\uc74c\ub41c \ud30c\uc77c\uc744 \ucd5c\ub300\ud55c \ub4e4\ub9ac\ub294 \uac83\uacfc \uc720\uc0ac\ud55c \ubcfc\ub968\uc73c\ub85c 3\ucd08\uc774\uc0c1 \ub179\uc74c\ud55c \ub4a4 \uc815\uc9c0\ubc84\ud2bc\uc744 \ub204\ub985\ub2c8\ub2e4.","9. \uce21\uc815\ub41c \ud604\uc7ac \uc810\uc218\uc640 \uae30\uc874\uc758 \ubbfc\uac10\ub3c4 \uc810\uc218 \uc0ac\uc774\uc758 \uc801\ub2f9\ud55c \uac12\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4.","10. \ubbfc\uac10\ub3c4 \uc124\uc815\uc744 \uc644\ub8cc\ud55c \ud6c4, \uac10\uc9c0\ub97c \uc2dc\uc791\ud55c \ub4a4 \ub179\uc74c\ub41c \ud30c\uc77c\uc744 \uc7ac\uc0dd\ud574\ubcf4\uba74\uc11c \uc801\ub2f9\ud55c \ubbfc\uac10\ub3c4\ub97c \uc124\uc815\ud574\uc90d\ub2c8\ub2e4."],text:["\uc0c8\ub85c\uc6b4 \ud14d\uc2a4\ud2b8\ub97c \ucd94\uac00\ud574 \uc8fc\uc138\uc694!","\uc774\ub984\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694","\ud14d\uc2a4\ud2b8\ub294 \ucd5c\ub300 10\uac1c\uae4c\uc9c0 \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4","\ud14d\uc2a4\ud2b8\ub294 \ud55c\uae00\ub9cc \uc778\uc2dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."],sound:["\uc0c8\ub85c\uc6b4 \uc18c\ub9ac \ud30c\uc77c\uc744 \ucd94\uac00\ud574 \uc8fc\uc138\uc694!","\ud30c\uc77c \uc5c5\ub85c\ub4dc","\uc774\ub984\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694","\ud30c\uc77c\uc740 \ucd5c\ub300 5\uac1c\uae4c\uc9c0 \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\ud30c\uc77c \ud558\ub098\uc758 \ucd5c\ub300 \uc6a9\ub7c9\uc740 300KB \uc785\ub2c8\ub2e4."],setting:["\uc54c\ub9bc \uc18c\ub9ac \uc124\uc815","\uc54c\ub9bc \ud478\uc26c \uc124\uc815","\ub9c8\uc774\ud06c \ud14c\uc2a4\ud2b8","\ub85c\uadf8\uc544\uc6c3","\ubca8\uc18c\ub9ac \uc124\uc815","\uc54c\ub78c 1","\uc54c\ub78c 2","\uc54c\ub78c 3"],sensitivity:["\ubbfc\uac10\ub3c4","\uc758 \ubbfc\uac10\ub3c4 \uc124\uc815","\ud604\uc7ac \uc810\uc218","\uce21\uc815 \uc804 \uc785\ub2c8\ub2e4.","\ubbfc\uac10\ub3c4 \uc124\uc815","\ub179\uc74c \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec \ud604\uc7ac \ub9c8\uc774\ud06c\ub97c \ud1b5\ud574 \uc18c\ub9ac\ub97c 5\ucd08 \uc774\uc0c1 \uc785\ub825\ud558\uace0 \ub179\uc74c\uc744 \uc885\ub8cc\ud569\ub2c8\ub2e4.","\ubbfc\uac10\ub3c4\ub97c \ub192\uc77c\uc218\ub85d \uc18c\ub9ac\uc758 \uad6c\ubd84\uc774 \uc815\ud655\ud574\uc9c0\uc9c0\ub9cc \uc778\uc2dd\ub418\ub294 \ube48\ub3c4\uac00 \ub0ae\uc544\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\ub9cc\uc57d \ucd9c\ub825\ub418\ub294 \uc810\uc218\uac00 60 \uc774\ud558\uac00 \ubc18\ubcf5\ub41c\ub2e4\uba74, \ub179\uc74c \ud30c\uc77c\uc774\ub098 \ud604\uc7ac \uae30\uae30\ub97c \uc870\uc815\ud560 \uac83\uc744 \ucd94\ucc9c\ub4dc\ub9bd\ub2c8\ub2e4."],uploadFail:["\uc5c5\ub85c\ub4dc \uc2e4\ud328","\uac19\uc740 \uc774\ub984\uc73c\ub85c \ub4f1\ub85d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4!","","\ucd5c\ub300 10\uac1c\uc758 \ubb38\uc790\ub9cc \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4!","\ud30c\uc77c\uc758 \uc6a9\ub7c9\uc774 \ud07d\ub2c8\ub2e4! 300kb \uc774\ud558\uc758 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud558\uc138\uc694!","\ucd5c\ub300 5\uac1c\uc758 \ud30c\uc77c\ub9cc \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4!"],delete:["\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc744(\ub97c) \uc815\ub9d0\ub85c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?,","\uc0ad\uc81c"],logout:["\ub85c\uadf8\uc544\uc6c3 \uc131\uacf5","\ub85c\uadf8\uc544\uc6c3\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4"],detecting:["\uac10\uc9c0 \uc911\uc785\ub2c8\ub2e4.","\uc774(\uac00) \uac10\uc9c0 \ub418\uc5c8\uc2b5\ub2c8\ub2e4!","\uc74c\uc131 \ubaa9\ub85d","\ud14d\uc2a4\ud2b8 \ubaa9\ub85d"],push:["\uc774(\uac00) \uac10\uc9c0\ub418\uc5c8\uc2b5\ub2c8\ub2e4!!","\uac10\uc9c0\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"]},en:{ok:"OK",cancel:"Cancel",apply:"Apply",init:"Initialize",start:"Start",detectStart:"Start",stop:"Stop",name:"Rename",sens:"Modify Sensitivity",loginSuccess:["Login Successful","Welcome! ",""],loginFail:["Login Failed","Login Faiiled"],menu:["Guide","Text","Sound","Setting"],guide:["Sound Alarm is a service that detects pre-registered sounds and words through a microphone and sends notifications.","To register text","Type the word you want to be detected in English and press the Add button to register.","(Only English can be recognized.)","To register a sound","1. Record the sound you want.","(In order to increase the recognition accuracy, it is necessary to record as noise-free as possible.)",'2. Tap the "Upload File" button to select the recorded file.','3. Use the input window to the right of "Upload File" to change the name you want to register, and then click the Add button.',"4. Set the microphone to receive as many sounds as possible, then press the Record button in Sensitivity Settings.","5. Record for at least 3 seconds and press the Stop button. (The process of measuring scores in a typical environment.)","6. Adjust sensitivity with the current measured score.","7. Prepare to play the recorded file and press the record button again.","8. Play the recorded file to a volume as similar as it sounds, record it for at least 3 seconds, and then press the Stop button.","9. Sets the appropriate value between the current score and the existing sensitivity score.","10. After completing the sensitivity setting, start detecting and play the recorded file to set the appropriate sensitivity."],text:["Please add new text!","Please enter the name","You can register up to 10 words.","Only English words can be recognized."],sound:["Please add new sound files!","Upload file","Please enter the name","You can upload up to 5 files.","The maximum capacity of a single file is 300 KB."],setting:["Alarm sound","Alarm push","Microphone test","Logout","Ring Tone","Alarm 1","Alarm 2","Alarm 3"],sensitivity:["Sensitivity","'s sensitivity","Current score","Before the measurement","Sensitivity","Click the Record button to enter the sound through the current microphone for at least 5s and exit the recording.","The higher the sensitivity, the more accurate the classification of sounds, but the frequency of recognition may decrease","If the printed score is repeated below 60, we recommend adjusting the recording file or current device."],uploadFail:["Upload failed","Unable to register with the same name!","","You can register up to 10 words.","The file has a large capacity! Upload files below 300kb!","You can upload up to 5 files."],delete:["Delete?","Are you sure you want to delete ","Delete"],logout:["Logout Successful","Logout Successful!"],detecting:["Detecting..","is detected!","Sound List","Text List"],push:["is detected!!","Detected!!"]}};n(131);var ie,se,le=function(){var e=Object(j.c)((function(e){return e.preferenceReducer})).lang;return Object(o.jsxs)("div",{className:"Guide",children:[re[e].guide[0],Object(o.jsxs)("div",{className:"Text",children:[re[e].guide[1],Object(o.jsxs)("div",{className:"TextGuide",children:[re[e].guide[2],Object(o.jsx)("br",{}),re[e].guide[3]]})]}),Object(o.jsxs)("div",{className:"Sound",children:[re[e].guide[4],Object(o.jsxs)("div",{className:"SoundGuide",children:[re[e].guide[5],Object(o.jsx)("br",{}),re[e].guide[6],Object(o.jsx)("br",{}),re[e].guide[7],Object(o.jsx)("br",{}),re[e].guide[8],Object(o.jsx)("br",{}),re[e].guide[9],Object(o.jsx)("br",{}),re[e].guide[10],Object(o.jsx)("br",{}),re[e].guide[11],Object(o.jsx)("br",{}),re[e].guide[12],Object(o.jsx)("br",{}),re[e].guide[13],Object(o.jsx)("br",{}),re[e].guide[14],Object(o.jsx)("br",{}),re[e].guide[15],Object(o.jsx)("br",{}),re[e].guide[16]]})]})]})},ue=n(25),de="ModalResult/SET_OPEN",be="ModalResult/SET_RESULT",je=Object(p.a)(be,(function(e){return e})),Oe=Object(p.a)(de,(function(e){return e})),fe=Object(x.a)((ie={},Object(f.a)(ie,de,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{head:t.payload.head,body:t.payload.body,buttonNum:t.payload.buttonNum||2,callback:t.payload.callback||function(){},cancelCallback:t.payload.cancelCallback||function(){},headColor:t.payload.headColor,btn1Color:t.payload.btn1Color,btn2Color:t.payload.btn2Color,btn1Text:t.payload.btn1Text,btn2Text:t.payload.btn2Text,btnText:t.payload.btnText||[],open:!0,click:!1})})),Object(f.a)(ie,be,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{result:t.payload,open:!1,click:!0})})),ie),{result:!1,head:"",body:"",buttonNum:2,open:!1,click:!1,headColor:null,btn1Color:null,btn2Color:null,btn1Text:null,btn2Text:null,btnText:[],callback:function(){},cancelCallback:function(){}}),me=k.a.mark(Be),pe="SoundList/ADD_ITEM",xe="SoundList/REMOVE_ITEM",he="SoundList/UPDATE_ITEM",ve="SoundList/UPDATE_SENSITIVITY",ge="SoundList/SET_LIST",ye="SoundList/SET_ERROR",Ce=Object(p.a)(pe,(function(e){return e})),Se=Object(p.a)(xe,(function(e){return e})),ke=Object(p.a)(he,(function(e){return e})),Ne=Object(p.a)(ge,(function(e){return e})),Te=Object(p.a)(ve,(function(e){return e})),Le=Object(p.a)(ye,(function(e){return e})),Ee=R("SoundList",pe,(function(e){return D.a.post("".concat(A,"/audio"),e,{headers:{"Content-Type":"multipart/form-data"}})})),we=R("SoundList",xe,(function(e){return D.a.delete("".concat(A,"/audio/"),e)})),Ie=R("SoundList",he,(function(e){return D.a.put("".concat(A,"/audio"),e)})),Re=R("SoundList",ve,(function(e){return D.a.put("".concat(A,"/audio"),e)}));function Be(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(pe,Ee);case 2:return e.next=4,Object(N.d)(xe,we);case 4:return e.next=6,Object(N.d)(he,Ie);case 6:return e.next=8,Object(N.d)(ve,Re);case 8:case"end":return e.stop()}}),me)}var _e,De=Object(x.a)((se={},Object(f.a)(se,"SoundList/ADD_ITEM_SUCCESS",(function(e,t){var n={id:t.payload._id,name:t.payload.name,blob:JSON.stringify(Array.from(new Uint8Array(t.payload.buffer.data))),score:60};return Object(m.a)(Object(m.a)({},e),{},{soundList:e.soundList.concat(n),error:!1})})),Object(f.a)(se,"SoundList/REMOVE_ITEM_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{soundList:e.soundList.filter((function(e){return e.id!==t.payload.audioid})),error:!1})})),Object(f.a)(se,"SoundList/UPDATE_ITEM_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{soundList:e.soundList.map((function(e){return e.id===t.payload.audioid?Object(m.a)(Object(m.a)({},e),{},{name:t.payload.name}):e})),error:!1})})),Object(f.a)(se,"SoundList/UPDATE_SENSITIVITY_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{soundList:e.soundList.map((function(e){return e.id===t.payload.audioid?Object(m.a)(Object(m.a)({},e),{},{score:t.payload.sensitivity}):e})),error:!1})})),Object(f.a)(se,ge,(function(e,t){return{soundList:t.payload,error:!1}})),Object(f.a)(se,"SoundList/FAILURE",(function(e,t){return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.payload),{},{error:!0})})),Object(f.a)(se,ye,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{error:t.payload})})),se),{soundList:[],error:!1}),Ae=k.a.mark(He),Fe="SensitivityResult/SET_OPEN",Me="SensitivityResult/SET_RESULT",Ue="SensitivityResult/GET_SCORE_SERVER",Pe=Object(p.a)(Me,(function(e){return e})),Ge=Object(p.a)(Fe,(function(e){return e})),ze=Object(p.a)(Ue,(function(e){return e})),Ve=R("SensitivityResult",Ue,(function(e){return D.a.post("".concat(A,"/audio/test"),e)}));function He(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(Ue,Ve);case 2:case"end":return e.stop()}}),Ae)}var qe=Object(x.a)((_e={},Object(f.a)(_e,Fe,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{id:t.payload.id,score:t.payload.score,open:!0,click:!1,name:t.payload.name,scoreFromServer:null,error:!1})})),Object(f.a)(_e,Me,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{result:t.payload,score:0,open:!1,click:!0,error:!1})})),Object(f.a)(_e,"SensitivityResult/GET_SCORE_SERVER_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{scoreFromServer:t.payload.accuracy,error:!1})})),Object(f.a)(_e,"SensitivityResult/FAILURE",(function(e,t){return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.payload),{},{error:!0})})),_e),{result:!1,id:0,score:60,name:"",open:!1,click:!1,scoreFromServer:null,error:!1}),Ye=n(179),Je=n(91),Ke=n(181),We=n(11),Qe=n(183),Xe=n(20),Ze=n(69);n(83);var $e=function(e){var t=e.name,n=e.order,a=e.clickItem,c=e.isClick,i=e.updateName,s=e.deleteName,l=e.setDelete,u=e.setUpdate,d=e.blob,b=e.score,f=Object(j.b)(),m=Object(j.c)((function(e){return e.preferenceReducer})).lang,p=Object(We.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[2],fontSize:11,margin:5}}}))(Ke.a),x=Object(r.useState)(t),h=Object(O.a)(x,2),v=h[0],g=h[1],y=Object(r.useState)(!1),C=Object(O.a)(y,2),S=C[0],k=C[1],N=Object(r.useState)(null),T=Object(O.a)(N,2),L=T[0],E=T[1],w=Boolean(L),I=Object(r.useCallback)((function(e){E(e.currentTarget)}),[E]),R=Object(r.useCallback)((function(){E(null)}),[E]);Object(r.useEffect)((function(){g(t),document.getElementById("Change"+n).style.display=c||S?"inline-block":"none"}),[t,g,c,n,S]);var B=Object(r.useCallback)((function(e){return String(t).length<e+3?t:String(t).substring(0,e)+"..."}),[t]),_=Object(r.useCallback)((function(){l(!0),u(!1),k(!1);var e={head:re[m].delete[0],body:"ko"===m?"".concat(B(5)," ").concat(re[m].delete[1]):"".concat(re[m].delete[1]).concat(B(5),"?"),callback:function(){return s(n)},headColor:"#ff3547",btn1Color:"#ff3547",btn2Color:"#f2f3f4",btn1Text:"#ffffff",btn2Text:"#000000",btnText:[re[m].delete[2],re[m].cancel]};f(Oe(e)),l(!1),a(-1)}),[s,n,a,u,k,l,f,B,m]),D=Object(r.useCallback)((function(){u(!0),k(!0),g(t),R()}),[u,k,R,g,t]),A=Object(r.useCallback)((function(){i(n,v,b),u(!1),k(!1),a(-1)}),[i,v,u,n,a,b,k]),F=Object(r.useCallback)((function(e){g(e.target.value)}),[g]),M=Object(r.useCallback)((function(){a(n)}),[a,n]),U=Object(r.useCallback)((function(){var e=document.getElementById("audio".concat(n)),t=URL.createObjectURL(new Blob([new Uint8Array(JSON.parse(d)).buffer]));console.log(t),e.src=t,e.play()}),[n,d]),P=Object(r.useCallback)((function(){var e=document.getElementById("audio".concat(n));e.pause(),e.src=d}),[n,d]),G=Object(r.useCallback)((function(e,t){document.getElementById("audio".concat(n)).volume=t/100}),[n]),z=Object(r.useCallback)((function(){var e=document.getElementById("audio".concat(n));return Object(o.jsxs)("div",{children:[Object(o.jsx)(Xe.j,{size:30}),Object(o.jsx)(Qe.a,{onChange:G,defaultValue:null===e?100:100*e.volume,"aria-labelledby":"continuous-slider",style:{width:100,marginLeft:3,marginRight:3},min:0,max:100}),Object(o.jsx)(Xe.k,{size:30})]})}),[G,n]),V=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"Play",children:[Object(o.jsx)("audio",{id:"audio".concat(n),style:{display:"none"}}),Object(o.jsx)(Xe.h,{className:"start",size:35,onClick:U}),Object(o.jsx)(Ze.a,{className:"stop",size:30,onClick:P}),Object(o.jsx)("div",{className:"volume",children:Object(o.jsx)(p,{title:z(),interactive:!0,placement:"top",disableFocusListener:!0,disableTouchListener:!0,children:Object(o.jsx)("div",{style:{display:"inline-block"},children:Object(o.jsx)(Ze.b,{size:35})})})})]})}),[n,U,P,z]),H=Object(r.useCallback)((function(){var e={id:n,name:B(10),score:b};f(Le(!1)),f(Ge(e)),R()}),[f,n,B,R,b]);return Object(o.jsxs)("div",{className:"SoundListItem",children:[Object(o.jsxs)("div",{className:"ItemName",onClick:M,children:[S?Object(o.jsx)("input",{name:"name",value:v,onChange:F,className:"EditInput"}):Object(o.jsx)("div",{className:"NameText",children:B(10)}),Object(o.jsxs)("div",{className:"ItemScore",children:[re[m].sensitivity[0],": ",b]}),V()]}),Object(o.jsxs)("div",{id:"Change"+n,className:"ChangeButton",style:{display:"none"},children:[S?Object(o.jsx)(Xe.d,{className:"Button",onClick:A}):Object(o.jsx)(Xe.e,{className:"Button",onClick:I}),Object(o.jsxs)(Je.a,{id:"long-menu",anchorEl:L,keepMounted:!0,open:w,onClose:R,PaperProps:{style:{maxHeight:216,width:"27ch"}},children:[Object(o.jsx)(Ye.a,{onClick:D,children:re[m].name},"name"),Object(o.jsx)(Ye.a,{onClick:H,children:re[m].sens},"sensitivity")]}),Object(o.jsx)(Xe.c,{className:"Button",onClick:_})]})]})},et=n(32);var tt,nt=function(){var e=Object(r.useMemo)((function(){return 307200}),[]),t=Object(j.c)((function(e){return e.updateLoginState.user._id})),n=Object(r.useMemo)((function(){return 5}),[]),a=Object(j.c)((function(e){return e.preferenceReducer})).lang,c=Object(r.useMemo)((function(){return re[a].sound[1]}),[a]),i=Object(j.c)((function(e){return e.updateSoundList.soundList})),s=Object(j.b)(),l=Object(r.useState)(-1),u=Object(O.a)(l,2),d=u[0],b=u[1],f=Object(r.useState)(!1),m=Object(O.a)(f,2),p=m[0],x=m[1],h=Object(r.useState)(!1),v=Object(O.a)(h,2),g=v[0],y=v[1],C=Object(r.useState)(c),S=Object(O.a)(C,2),k=S[0],N=S[1],T=Object(r.useState)(""),L=Object(O.a)(T,2),E=L[0],w=L[1],I=Object(r.useState)(null),R=Object(O.a)(I,2),B=R[0],_=R[1],D=Object(r.useCallback)((function(e){var t=e.target.parentNode;"SoundListItem"===t.className||"ChangeButton"===t.className||null!==t.parentNode&&"ChangeButton"===t.parentNode.className||b(-1)}),[b]);Object(r.useEffect)((function(){p||g?document.removeEventListener("mouseup",D):document.addEventListener("mouseup",D),null===B&&N(c)}),[D,p,g,B,N,c]);var A=Object(r.useCallback)((function(e){p||g||b(e===d?-1:e)}),[b,d,p,g]),F=Object(r.useCallback)((function(e,n,c){var o,r=Object(ue.a)(i);try{for(r.s();!(o=r.n()).done;){var l=o.value;if(l.id!==e&&l.name===n){var u={head:re[a].uploadFail[0],body:re[a].uploadFail[1],buttonNum:1,callback:function(){},headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null};return void s(Oe(u))}}}catch(d){r.e(d)}finally{r.f()}s(ke({_id:t,audioid:e,sensitivity:c,name:n})),b(-1)}),[s,b,t,a,i]),M=Object(r.useCallback)((function(e){s(Se({data:{_id:t,audioid:e}})),b(-1)}),[b,s,t]),U=Object(r.useCallback)((function(){return 0===i.length?null:i.map((function(e){return Object(o.jsx)($e,{name:e.name,clickItem:A,order:e.id,isClick:e.id===d,blob:e.blob,score:e.score,updateName:F,deleteName:M,setUpdate:x,setDelete:y},e.id)}))}),[i,d,A,F,M,x,y]),P=Object(r.useCallback)((function(e,t){return String(e).length<t+3?e:String(e).substring(0,t)+"..."}),[]),G=Object(r.useCallback)((function(t){var c=t.target.files[0];if(null!==c){if("size"in c&&c.size>e){var o={head:re[a].uploadFail[0],body:re[a].uploadFail[4],buttonNum:1,callback:function(){},headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null};return s(Oe(o)),void(t.target.value="")}if(i.length===n){var r={head:re[a].uploadFail[0],body:"".concat(re[a].uploadFail[5]),buttonNum:1,callback:function(){},headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null};return s(Oe(r)),void(t.target.value="")}_(c),N(P(String(c.name),10)),w(String(c.name)),t.target.value=""}}),[N,w,_,e,s,i,n,a,P]),z=Object(r.useCallback)((function(e){w(e.target.value)}),[w]),V=Object(r.useCallback)((function(){if(k!==c&&""!==E){var e,n=Object(ue.a)(i);try{for(n.s();!(e=n.n()).done;){if(e.value.name===E){var o={head:re[a].uploadFail[0],body:re[a].uploadFail[1],buttonNum:1,callback:function(){},headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null};return void s(Oe(o))}}}catch(l){n.e(l)}finally{n.f()}var r=new FormData;r.append("name",E),r.append("_id",t),r.append("data",B),s(Ce(r)),w(""),N(c),_(null),s(Ge({id:null,name:E,score:60}))}}),[s,w,N,_,k,E,i,B,c,t,a]);return Object(o.jsxs)("div",{className:"SoundComponent",children:[Object(o.jsxs)("div",{className:"SoundList",children:[U(),i.length<n?Object(o.jsxs)("div",{className:"FileUpload",style:{marginTop:60*i.length+25},children:[Object(o.jsxs)("label",{className:"UploadButton",htmlFor:"audio",children:[k," ",Object(o.jsx)(et.b,{className:"Icon"})]}),Object(o.jsx)("input",{type:"file",id:"audio",accept:"audio/*",style:{display:"none"},onChange:G}),Object(o.jsx)("input",{type:"text",name:"alias",className:"NameInput",placeholder:re[a].sound[2],value:E,onChange:z}),Object(o.jsx)(Xe.a,{name:"submit",className:"AddButton",size:40,color:"grey",onClick:V})]}):null,0===i.length?Object(o.jsx)("div",{className:"Empty",children:re[a].sound[0]}):null]}),Object(o.jsxs)("div",{className:"Notify",children:[Object(o.jsxs)("div",{className:"NotifyItem",children:[Object(o.jsx)("div",{className:"GuideIcon",children:Object(o.jsx)(et.a,{size:20})}),Object(o.jsx)("div",{className:"Guide1",children:re[a].sound[3]})]}),Object(o.jsxs)("div",{className:"NotifyItem",children:[Object(o.jsx)("div",{className:"GuideIcon",children:Object(o.jsx)(et.a,{size:20})}),Object(o.jsx)("div",{className:"Guide2",children:re[a].sound[4]})]})]})]})},at=k.a.mark(ft),ct="TextList/ADD_ITEM",ot="TextList/REMOVE_ITEM",rt="TextList/UPDATE_ITEM",it="TextList/SET_LIST",st=Object(p.a)(ct,(function(e){return e})),lt=Object(p.a)(ot,(function(e){return e})),ut=Object(p.a)(rt,(function(e){return e})),dt=Object(p.a)(it,(function(e){return e})),bt=R("TextList",ct,(function(e){return D.a.post("".concat(A,"/text"),e,{headers:{"Content-Type":"multipart/form-data"}})})),jt=R("TextList",ot,(function(e){return D.a.delete("".concat(A,"/text"),e)})),Ot=R("TextList",rt,(function(e){return D.a.put("".concat(A,"/text"),e)}));function ft(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(ct,bt);case 2:return e.next=4,Object(N.d)(ot,jt);case 4:return e.next=6,Object(N.d)(rt,Ot);case 6:case"end":return e.stop()}}),at)}var mt=Object(x.a)((tt={},Object(f.a)(tt,"TextList/ADD_ITEM_SUCCESS",(function(e,t){var n={id:t.payload._id,text:t.payload.text};return Object(m.a)(Object(m.a)({},e),{},{textList:e.textList.concat(n),error:!1})})),Object(f.a)(tt,"TextList/REMOVE_ITEM_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{textList:e.textList.filter((function(e){return e.id!==t.payload.textid})),error:!1})})),Object(f.a)(tt,"TextList/UPDATE_ITEM_SUCCESS",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{textList:e.textList.map((function(e){return e.id===t.payload.textid?Object(m.a)(Object(m.a)({},e),{},{text:t.payload.text}):e})),error:!1})})),Object(f.a)(tt,it,(function(e,t){return{textList:t.payload,error:!1}})),Object(f.a)(tt,"TextList/FAILURE",(function(e,t){return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.payload),{},{error:!0})})),tt),{textList:[],error:!1});n(84);var pt=function(e){var t=e.name,n=e.order,a=e.clickItem,c=e.isClick,i=e.updateName,s=e.deleteName,l=e.setDelete,u=e.setUpdate,d=Object(j.c)((function(e){return e.preferenceReducer})).lang,b=Object(j.b)(),f=Object(r.useState)(t),m=Object(O.a)(f,2),p=m[0],x=m[1],h=Object(r.useState)(!1),v=Object(O.a)(h,2),g=v[0],y=v[1];Object(r.useEffect)((function(){x(t)}),[t,x]);var C=Object(r.useCallback)((function(e){return t.length<e+3?t:t.substring(0,e)+"..."}),[t]),S=Object(r.useCallback)((function(){l(!0),u(!1),y(!1);var e={head:re[d].delete[0],body:"ko"===d?"".concat(C(5)," ").concat(re[d].delete[1]):"".concat(re[d].delete[1]).concat(C(5),"?"),callback:function(){return s(n)},headColor:"#ff3547",btn1Color:"#ff3547",btn2Color:"#f2f3f4",btn1Text:"#ffffff",btn2Text:"#000000",btnText:[re[d].delete[2],re[d].cancel]};b(Oe(e)),l(!1),a(-1)}),[s,n,a,u,y,l,b,C,d]),k=Object(r.useCallback)((function(){u(!0),y(!0)}),[u,y]),N=Object(r.useCallback)((function(){i(n,p),x(t),u(!1),y(!1),a(-1)}),[i,p,u,n,a,y,x,t]),T=Object(r.useCallback)((function(e){x(e.target.value)}),[x]),L=Object(r.useCallback)((function(){a(n)}),[a,n]),E=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"ChangeButton",children:[g?Object(o.jsx)(Xe.d,{className:"Button",onClick:N}):Object(o.jsx)(Xe.e,{className:"Button",onClick:k}),Object(o.jsx)(Xe.c,{className:"Button",onClick:S})]})}),[S,k,N,g]);return Object(o.jsxs)("div",{className:"TextListItem",children:[Object(o.jsx)("div",{className:"ItemName",onClick:L,children:g?Object(o.jsx)("input",{name:"name",value:p,onChange:T,className:"EditInput"}):C(10)}),c?E():null]})};var xt=function(){var e=Object(j.c)((function(e){return e.updateTextList.textList})),t=Object(j.c)((function(e){return e.updateLoginState.user._id})),n=Object(r.useMemo)((function(){return 10}),[]),a=Object(j.c)((function(e){return e.preferenceReducer})).lang,c=Object(j.b)(),i=Object(r.useState)(-1),s=Object(O.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)(!1),b=Object(O.a)(d,2),f=b[0],m=b[1],p=Object(r.useState)(!1),x=Object(O.a)(p,2),h=x[0],v=x[1],g=Object(r.useState)(""),y=Object(O.a)(g,2),C=y[0],S=y[1],k=Object(r.useCallback)((function(e){var t=e.target.parentNode;"TextListItem"===t.className||"ChangeButton"===t.className||null!==t.parentNode&&"ChangeButton"===t.parentNode.className||u(-1)}),[u]);Object(r.useEffect)((function(){f||h?document.removeEventListener("mouseup",k):document.addEventListener("mouseup",k)}),[k,f,h]);var N=Object(r.useCallback)((function(e){f||h||u(e===l?-1:e)}),[u,l,f,h]),T=Object(r.useCallback)((function(n,o){var r,i=Object(ue.a)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s.id!==n&&s.text===o){var l={head:re[a].uploadFail[0],body:re[a].uploadFail[1],buttonNum:1,callback:function(){},headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null};return void c(Oe(l))}}}catch(d){i.e(d)}finally{i.f()}c(ut({_id:t,text:o,textid:n})),u(-1)}),[c,u,t,e,a]),L=Object(r.useCallback)((function(e){c(lt({data:{_id:t,textid:e}})),u(-1)}),[u,c,t]),E=Object(r.useCallback)((function(){return 0===e.length?null:e.map((function(e){return Object(o.jsx)(pt,{name:e.text,clickItem:N,order:e.id,isClick:e.id===l,updateName:T,deleteName:L,setUpdate:m,setDelete:v},e.id)}))}),[e,l,N,T,L,m,v]),w=Object(r.useCallback)((function(e){S(e.target.value)}),[S]),I=Object(r.useCallback)((function(){if(""!==C){var o,r=Object(ue.a)(e);try{for(r.s();!(o=r.n()).done;){if(o.value.text===C){var i={head:re[a].uploadFail[0],body:re[a].uploadFail[1],buttonNum:1,callback:function(){},headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null};return void c(Oe(i))}}}catch(u){r.e(u)}finally{r.f()}if(e.length!==n){var s=new FormData;s.append("_id",t),s.append("text",C),c(st(s)),S("")}else{var l={head:re[a].uploadFail[0],body:"".concat(re[a].uploadFail[3]),buttonNum:1,headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null,callback:function(){}};c(Oe(l))}}}),[c,S,C,e,t,n,a]),R=Object(r.useCallback)((function(){if(e.length!==n)return Object(o.jsxs)("div",{className:"FileUpload",children:[Object(o.jsx)("input",{type:"text",name:"alias",className:"NameInput",placeholder:re[a].text[1],value:C,onChange:w}),Object(o.jsx)(Xe.a,{name:"submit",className:"AddButton",size:40,color:"grey",onClick:I})]})}),[e,C,w,I,n,a]);return Object(o.jsxs)("div",{className:"TextComponent",children:[Object(o.jsxs)("div",{className:"TextList",children:[E(),R(),0===e.length?Object(o.jsx)("div",{className:"Empty",children:re[a].text[0]}):null]}),Object(o.jsxs)("div",{className:"Notify",children:[Object(o.jsxs)("div",{className:"NotifyItem",children:[Object(o.jsx)("div",{className:"GuideIcon",children:Object(o.jsx)(et.a,{size:20})}),Object(o.jsx)("div",{className:"Guide1",children:re[a].text[2]})]}),Object(o.jsxs)("div",{className:"NotifyItem",children:[Object(o.jsx)("div",{className:"GuideIcon",children:Object(o.jsx)(et.a,{size:20})}),Object(o.jsx)("div",{className:"Guide2",children:re[a].text[3]})]})]})]})},ht=n(59),vt="".concat("198175746547-k85131r2cq580i67e2kbok9pb8u12gc2.apps.googleusercontent.com");var gt=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.preferenceReducer})).lang,n=Object(r.useCallback)((function(){var n={head:re[t].logout[0],body:re[t].logout[1],buttonNum:1,headColor:"#22d77e",btn1Color:"#22d77e",btn2Color:null,btn1Text:"#ffffff",btn2Text:null,callback:function(){return e(y())}};e(Oe(n))}),[e,t]);return Object(o.jsx)(ht.GoogleLogout,{clientId:vt,buttonText:"Logout",onLogoutSuccess:n})},yt=n(70),Ct=n.n(yt),St=n(177),kt=n(174);n(134);var Nt=function(){var e=Object(j.c)((function(e){return e.preferenceReducer})),t=Object(j.c)((function(e){return e.updateLoginState.user._id})),n=Object(r.useState)(Object(m.a)({},e)),a=Object(O.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(null),l=Object(O.a)(s,2),u=l[0],d=l[1],b=Boolean(u),p=Object(r.useMemo)((function(){return{0:"/sound-alarm/alarm.mp3",1:"/sound-alarm/alarm2.mp3",2:"/sound-alarm/alarm3.mp3"}}),[]),x=Object(r.useState)(null),h=Object(O.a)(x,2),v=h[0],g=h[1],y=Object(r.useState)(!1),C=Object(O.a)(y,2),S=C[0],k=C[1],N=Object(r.useCallback)((function(e,t){document.getElementById("alarmTest").volume=t/100}),[]),T=Object(r.useCallback)((function(){var e=document.getElementById("alarmTest");e.volume=c.volume/100,e.src=p[c.bell],e.play()}),[c,p]),L=Object(r.useCallback)((function(e){c.sound&&d(e.currentTarget)}),[d,c]),E=Object(r.useCallback)((function(){d(null);var e=document.getElementById("alarmTest");i((function(t){return Object(m.a)(Object(m.a)({},t),{},{volume:100*e.volume})}))}),[d,i]),w=Object(j.b)(),I=Object(r.useCallback)((function(e,t){"push"===t&&e?Notification.requestPermission().then((function(n){"granted"===n&&i((function(n){return Object(m.a)(Object(m.a)({},n),{},Object(f.a)({},t,e))}))})):i((function(n){return Object(m.a)(Object(m.a)({},n),{},Object(f.a)({},t,e))}))}),[i]),R=Object(r.useCallback)((function(e){i((function(t){return Object(m.a)(Object(m.a)({},t),{},{bell:e.target.value})}))}),[i]),B=Object(r.useCallback)((function(){var e={_id:t,alarm:c.sound,alarmpush:c.push,alarmvolume:c.volume,alarmsound:c.bell};w(z(e));var n=document.getElementById("alarm");n.src=p[c.bell],n.volume=c.volume/100}),[w,c,p,t]),_=Object(r.useCallback)((function(){i({sound:!0,push:!1,volume:50,bell:"0"})}),[i]),D=Object(r.useCallback)((function(){var e=new(window.AudioContext||window.webkitAudioContext);navigator.getUserMedia({audio:!0,video:!1},(function(t){g({context:e,stream:t.getTracks()}),k(!0);var n=e.createMediaStreamSource(t),a=e.destination,c=e.createBiquadFilter(),o=e.createGain();c.type="bandpass",c.frequency.setValueAtTime(1200,e.currentTime),c.Q.setValueAtTime(5,e.currentTime),o.gain.setValueAtTime(1,e.currentTime),n.connect(c),c.connect(o),o.connect(a)}),(function(e){console.log("The following gUM error occured: "+e)}))}),[g,k]),A=Object(r.useCallback)((function(){null!==v&&(v.context.close(),v.stream[0].stop(),g(null),k(!1))}),[v,g,k]),F=Object(r.useCallback)((function(){S?A():D()}),[S,D,A]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"PreferenceBody",children:[Object(o.jsxs)("div",{className:"PreferenceItem",children:[Object(o.jsx)("div",{className:"ItemText",children:re[e.lang].setting[0]}),Object(o.jsx)("audio",{id:"alarmTest",style:{display:"none"}}),Object(o.jsxs)("div",{className:"ItemDetail",children:[Object(o.jsx)(Xe.f,{size:15,onClick:L,className:"DetailButton"}),Object(o.jsxs)(Je.a,{id:"long-menu",anchorEl:u,keepMounted:!0,open:b,onClose:E,PaperProps:{style:{maxHeight:216,width:"27.5ch"}},children:[Object(o.jsx)(Ye.a,{disableRipple:!0,style:{backgroundColor:"transparent"},children:Object(o.jsxs)(kt.a,{container:!0,spacing:2,children:[Object(o.jsx)(kt.a,{item:!0,children:Object(o.jsx)(Xe.j,{size:30})}),Object(o.jsx)(kt.a,{item:!0,xs:!0,children:Object(o.jsx)(Qe.a,{onChange:N,"aria-labelledby":"continuous-slider",defaultValue:e.volume,style:{marginTop:2},min:0,max:100})}),Object(o.jsx)(kt.a,{item:!0,children:Object(o.jsx)(Xe.k,{size:30})})]})},"volume"),Object(o.jsxs)(Ye.a,{disableRipple:!0,style:{backgroundColor:"transparent"},children:[re[e.lang].setting[4],Object(o.jsxs)(St.a,{style:{minWidth:100,marginLeft:15},value:c.bell,onChange:R,inputProps:{name:"bell",id:"bell-type"},children:[Object(o.jsx)(Ye.a,{value:"0",children:re[e.lang].setting[5]}),Object(o.jsx)(Ye.a,{value:"1",children:re[e.lang].setting[6]}),Object(o.jsx)(Ye.a,{value:"2",children:re[e.lang].setting[7]})]}),Object(o.jsx)(Xe.h,{onClick:T,style:{marginLeft:48},size:30})]},"bellType")]})]}),Object(o.jsx)("div",{className:"ItemSwitchD",children:Object(o.jsx)(Ct.a,{onChange:function(e){return I(e,"sound")},checked:c.sound,onColor:"#86d3ff",onHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48})})]}),Object(o.jsxs)("div",{className:"PreferenceItem",children:[Object(o.jsx)("div",{className:"ItemText",children:re[e.lang].setting[1]}),Object(o.jsx)("div",{className:"ItemSwitch",children:Object(o.jsx)(Ct.a,{onChange:function(e){return I(e,"push")},checked:c.push,onColor:"#86d3ff",onHandleColor:"#2693e6",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48})})]}),Object(o.jsxs)("div",{className:"PreferenceItem",children:[Object(o.jsx)("div",{className:"ItemText",children:re[e.lang].setting[2]}),Object(o.jsx)("button",{className:"MButton"+(S?" start":" end"),onClick:F,children:S?re[e.lang].stop:re[e.lang].start})]}),Object(o.jsxs)("div",{className:"PreferenceItem",children:[Object(o.jsx)("div",{className:"ItemText",children:re[e.lang].setting[3]}),Object(o.jsx)("div",{className:"LogoutButton",children:Object(o.jsx)(gt,{})})]}),Object(o.jsx)("button",{className:"ApplyButton apply",onClick:B,children:re[e.lang].apply}),Object(o.jsx)("button",{className:"ApplyButton init",onClick:_,children:re[e.lang].init})]})})};var Tt=function(){return Object(o.jsx)("div",{children:"This is Error page!"})},Lt=n(88);n(135);var Et=function(){var e=Object(j.b)(),t=Object(r.useMemo)((function(){return"".concat("198175746547-k85131r2cq580i67e2kbok9pb8u12gc2.apps.googleusercontent.com")}),[]),n=Object(r.useMemo)((function(){return"".concat("https://ec2-18-223-168-173.us-east-2.compute.amazonaws.com/")}),[]),a=Object(j.c)((function(e){return e.preferenceReducer})).lang,c=Object(r.useCallback)((function(t){var c={name:t.profileObj.name,imgURL:t.profileObj.imageUrl,username:String(t.profileObj.googleId)};e(E(null)),D.a.post("".concat(n,"/login"),{username:c.username}).then((function(n){c=Object(m.a)(Object(m.a)({},c),{},{_id:n.data._id});var o,r=n.data.stt,i=[],l=Object(ue.a)(r);try{for(l.s();!(o=l.n()).done;){var u=o.value,d={id:u._id,text:u.text};i.push(d)}}catch(y){l.e(y)}finally{l.f()}e(dt(i));var b,j=n.data.audio,O=[],f=Object(ue.a)(j);try{for(f.s();!(b=f.n()).done;){var p=b.value,x={id:p._id,name:p.name,blob:JSON.stringify(Array.from(new Uint8Array(p.buffer.data))),score:p.sensitivity};O.push(x)}}catch(y){f.e(y)}finally{f.f()}e(Ne(O));var h={alarm:n.data.alarm,alarmpush:n.data.alarmpush,alarmsound:n.data.alarmsound,alarmvolume:n.data.alarmvolume,language:String(n.data.language).toLowerCase()};e(G(h)),e(w(null));var v={head:re[a].loginSuccess[0],body:"".concat(re[a].loginSuccess[1]).concat(t.profileObj.name).concat(re[a].loginSuccess[2]),buttonNum:1,headColor:"#22d77e",btn1Color:"#22d77e",btn2Color:null,btn1Text:"#ffffff",btn2Text:null,callback:function(){return e(g(c))}};e(Oe(v)),s(t)}))}),[e,n,a]),i=Object(r.useCallback)((function(t){var n={head:re[a].loginFail[0],body:re[a].loginFail[1],buttonNum:1,headColor:"#ff3547",btn1Color:"#f2f3f4",btn2Color:null,btn1Text:"#000000",btn2Text:null,callback:function(){return e(y())}};e(Oe(n)),console.log("Login failed: res:",t)}),[e,a]),s=function(e){var t=1e3*(e.tokenObj.expires_in||3300),n=function(){var a=Object(Lt.a)(k.a.mark((function a(){var c;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.reloadAuthResponse();case 2:c=a.sent,t=1e3*(c.expires_in||3300),console.log("newAuthRes:",c),localStorage.setItem("authToken",c.id_token),setTimeout(n,t);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();setTimeout(n,t)};return Object(o.jsx)("div",{className:"LoginComponent",children:Object(o.jsxs)("div",{className:"LoginBox",children:[Object(o.jsx)("div",{className:"Favicon",children:Object(o.jsx)("img",{src:"/sound-alarm/faviconcircle150.png",id:"loginfavicon",alt:"LoginIcon"})}),Object(o.jsx)("div",{className:"LoginText",children:"Sound Alarm"}),Object(o.jsx)("div",{className:"Description",children:"Sound notification service"}),Object(o.jsx)("div",{className:"GoogleLoginButton",children:Object(o.jsx)(ht.GoogleLogin,{clientId:t,buttonText:"Login with Google",onSuccess:c,onFailure:i,cookiePolicy:"single_host_origin"})})]})})};n(136);var wt=function(){var e=Object(r.useState)(0),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(["SideButton select","SideButton","SideButton","SideButton"]),i=Object(O.a)(c,2),s=i[0],l=i[1],u=Object(j.c)((function(e){return e.updateLoginState.login})),d=Object(j.c)((function(e){return e.updateLoginState.user.name})),b=Object(j.c)((function(e){return e.updateLoginState.user.imgURL})),f=Object(j.c)((function(e){return e.preferenceReducer})).lang,m=Object(r.useMemo)((function(){return re[f].menu}),[f]),p=Object(j.b)(),x=Object(r.useCallback)((function(){switch(n){case 0:return Object(o.jsx)(le,{});case 1:return Object(o.jsx)(xt,{});case 2:return Object(o.jsx)(nt,{});case 3:return Object(o.jsx)(Nt,{});default:return Object(o.jsx)(Tt,{})}}),[n]),h=Object(r.useCallback)((function(e){if(e!==n){for(var t=[],c=0;c<4;c++)c===n?t.push("SideButton deSelect"):c===e?t.push("SideButton select"):t.push("SideButton");l(t),a(e)}}),[a,n,l]),v=Object(r.useCallback)((function(){return m.map((function(e,t){return Object(o.jsx)("button",{id:t,className:s[t],onClick:function(){return h(t)},children:e},t)}))}),[m,h,s]),g=Object(r.useCallback)((function(e){p(V(e))}),[p]),C=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"Header",children:[Object(o.jsxs)("div",{className:"InfoBox",children:[Object(o.jsx)("img",{className:"UserThumb",src:b,alt:"userThumb"}),Object(o.jsx)("div",{className:"UserInfo",children:d})]}),Object(o.jsxs)("div",{className:"Language",children:[Object(o.jsx)("div",{className:"buttonbackground"}),Object(o.jsx)("div",{className:"selectedbackground"+("ko"===f?"left":"right")}),Object(o.jsx)("button",{className:"ko"+("ko"===f?" select":""),onClick:function(){return g("ko")},children:"\ud55c\uad6d\uc5b4"}),Object(o.jsx)("button",{className:"en"+("en"===f?" select":""),onClick:function(){return g("en")},children:"English"})]})]})}),[b,d,f,g]),S=Object(r.useCallback)((function(){p(ee())}),[p]);return Object(r.useEffect)((function(){return function(){p(y())}}),[p]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"CardComponent",children:[Object(o.jsx)("img",{className:"CardFavicon",src:"/sound-alarm/favicon270.png",alt:"SoundAlarmIcon"}),u?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"CardHeader",children:C()}),Object(o.jsx)("div",{className:"CardSide",children:v()}),Object(o.jsxs)("div",{className:"CardBody",children:[x(),3!==n?Object(o.jsx)("button",{className:"StartButton",onClick:S,children:re[f].detectStart}):null]})]}):null,Object(o.jsx)("audio",{style:{display:"none"},src:"/sound-alarm/alarm.mp3",id:"alarm"}),Object(o.jsxs)("div",{className:"Reference",children:["This page contains the MapleStory fontface provided by MapleStory.",Object(o.jsx)("br",{}),"\u2714 Ice Cubes Glass Sound by Daniel Simion \u2714 From http://soundbible.com/2182-Ice-Cubes-Glass.html \u2714 Distributor \u2018\ub300\ud55c\ubbfc\uad6d \ub300\ud45c BGM \uc140\ubc14\uc774\ubba4\uc9c1\u2019 https://www.sellbuymusic.com",Object(o.jsx)("br",{}),"\u2714 Analog Watch Alarm Sound by Daniel Simion \u2714 From http://soundbible.com/2197-Analog-Watch-Alarm.html \u2714 Distributor \u2018\ub300\ud55c\ubbfc\uad6d \ub300\ud45c BGM \uc140\ubc14\uc774\ubba4\uc9c1\u2019 https://www.sellbuymusic.com"]})]}),u?null:Object(o.jsx)(Et,{})]})},It=n(60),Rt=n.n(It);n(66);var Bt=function(){var e=Object(j.c)((function(e){return e.loading})).loading;return Object(o.jsx)(o.Fragment,{children:e?Object(o.jsx)("div",{className:"Modal",children:Object(o.jsx)(Rt.a,{type:"balls",color:"#ffffff",height:350,width:350,className:"Loading"})}):null})};var _t=function(){var e=Object(j.c)((function(e){return e.setModal})),t=e.open,n=e.head,a=e.body,c=e.buttonNum,i=e.callback,s=e.cancelCallback,l=e.headColor,u=e.btn1Color,d=e.btn2Color,b=e.btn1Text,O=e.btn2Text,f=e.btnText,m=Object(j.c)((function(e){return e.preferenceReducer})).lang,p=Object(j.b)(),x=Object(r.useCallback)((function(){i(),p(je(!0))}),[p,i]),h=Object(r.useCallback)((function(){s(),p(je(!1))}),[p,s]),v=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"ModalBox",children:[Object(o.jsx)("div",{className:"BoxHead",style:{backgroundColor:l},children:n}),Object(o.jsx)("div",{className:"BoxBody",children:"object"===typeof a?a[m]:a}),Object(o.jsxs)("div",{className:"BoxButton "+(c>1?"DoubleBox":""),children:[Object(o.jsx)("button",{className:"Button",onClick:x,style:{backgroundColor:u,color:b},children:f.length>=1?f[0]:re[m].ok}),c>1?Object(o.jsx)("button",{className:"Button",onClick:h,style:{backgroundColor:d,color:O},children:f.length>=2?f[1]:re[m].cancel}):null]})]})}),[x,h,n,a,c,l,u,d,b,O,f,m]);return Object(o.jsx)(o.Fragment,{children:t?Object(o.jsx)("div",{className:"Modal",children:v()}):null})},Dt=n(175),At=n(61),Ft=n.n(At);n(137);var Mt=function(){var e=Object(j.c)((function(e){return e.setSensitivity})),t=e.open,n=e.id,a=e.score,c=e.name,i=e.scoreFromServer,s=Object(j.c)((function(e){return e.preferenceReducer})).lang,l=Object(j.c)((function(e){return e.updateLoginState.user._id})),u=Object(j.c)((function(e){return e.loading})).loading,d=Object(j.c)((function(e){return e.updateSoundList})),b=d.soundList,f=d.error,m=Object(r.useState)(0),p=Object(O.a)(m,2),x=p[0],h=p[1],v=Object(r.useState)(null),g=Object(O.a)(v,2),y=g[0],C=g[1],S=Object(r.useState)(!1),k=Object(O.a)(S,2),N=k[0],T=k[1],L=Object(r.useState)(!1),E=Object(O.a)(L,2),w=E[0],I=E[1],R=Object(r.useMemo)((function(){return[{value:0,label:"0"},{value:100,label:"100"}]}),[]),B=Object(j.b)(),_=Object(r.useCallback)((function(){var e=n;if(null===e){var t,a=Object(ue.a)(b);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.name===c){e=o.id;break}}}catch(r){a.e(r)}finally{a.f()}}return e}),[n,c,b]),D=Object(r.useCallback)((function(){null!==y&&(y.recorder.stop(),y.context.close(),y.stream[0].stop(),C(null),T(!1))}),[y,T,C]),A=Object(r.useCallback)((function(){var e=_();I(!1),D(),(null===x||isNaN(x))&&h(a),B(Te({audioid:e,sensitivity:x,name:c,_id:l})),B(Pe(!0))}),[B,_,x,c,I,a,h,l,D]),F=Object(r.useCallback)((function(){B(Pe(!1)),D()}),[B,D]),M=Object(r.useCallback)((function(e){return"".concat(e)}),[]);Object(r.useEffect)((function(){h(a),f&&F()}),[a,h,f,F]);var U=Object(r.useCallback)((function(e,t){h(t)}),[h]),P=Object(r.useCallback)((function(){var e=new(window.AudioContext||window.webkitAudioContext);navigator.getUserMedia({audio:!0,video:!1},(function(t){var n=e.createMediaStreamSource(t),a=e.createMediaStreamDestination(),c=new MediaRecorder(a.stream);C({recorder:c,context:e,stream:t.getTracks()});var o=e.createBiquadFilter();o.type="bandpass",o.frequency.setValueAtTime(1200,e.currentTime),o.Q.setValueAtTime(5,e.currentTime),n.connect(o),o.connect(a);var r=[];c.ondataavailable=function(e){r.push(e.data)},c.onstop=function(t){new Blob(r,{type:"audio/wav"}).arrayBuffer().then((function(t){e.decodeAudioData(t,(function(e){var t=Ft()(e),n=new Blob([t],{type:"audio/wav"}),a=new FormData;a.append("data",n),a.append("_id",l),a.append("audioid",String(_())),a.append("mode","test"),I(!0),B(ze(a))}))})),r=[]},N||(T(!0),c.start())}),(function(e){console.log("The following gUM error occured: "+e)}))}),[B,C,T,_,I,l,N]),G=Object(r.useCallback)((function(){N?D():P()}),[N,P,D]),z=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"record",children:[Object(o.jsx)("div",{className:"outerCircle",children:Object(o.jsx)("div",{className:"innerCircle"})}),Object(o.jsx)("div",{className:"recordText",children:"REC"})]})}),[]),V=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"stop",children:[Object(o.jsx)("div",{className:"square"}),Object(o.jsx)("div",{className:"stopText",children:"STOP"})]})}),[]),H=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"SensitivityBox",children:[Object(o.jsx)("div",{className:"SensitivityHead",children:"<".concat(c,"> ").concat(re[s].sensitivity[1])}),Object(o.jsxs)("div",{className:"SensitivityBoxBody",children:[Object(o.jsx)("button",{className:"Mic",onClick:G,children:N?V():z()}),Object(o.jsxs)("div",{className:"SensitivityDetail",children:[Object(o.jsxs)("div",{className:"ServerScore",children:[re[s].sensitivity[2],": ",i?Math.round(i):re[s].sensitivity[3]]}),Object(o.jsxs)("div",{className:"SensitivitySlider",children:[Object(o.jsx)(Dt.a,{id:"discrete-slider-small-steps",gutterBottom:!0,children:re[s].sensitivity[4]}),Object(o.jsx)(Qe.a,{value:x,onChange:U,getAriaValueText:M,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:R,min:0,max:100})]})]})]}),Object(o.jsxs)("div",{className:"Description",children:[Object(o.jsxs)("div",{className:"DescriptionItem",children:[Object(o.jsx)("div",{className:"GuideIcon",children:Object(o.jsx)(et.a,{size:25})}),Object(o.jsx)("div",{className:"Guide1",children:re[s].sensitivity[5]})]}),Object(o.jsxs)("div",{className:"DescriptionItem",children:[Object(o.jsx)("div",{className:"GuideIcon",children:Object(o.jsx)(et.a,{size:25})}),Object(o.jsx)("div",{className:"Guide2",children:re[s].sensitivity[6]})]}),Object(o.jsxs)("div",{className:"DescriptionItem",children:[Object(o.jsx)("div",{className:"GuideIcon",children:Object(o.jsx)(et.a,{size:25})}),Object(o.jsx)("div",{className:"Guide3",children:re[s].sensitivity[7]})]})]}),Object(o.jsxs)("div",{className:"SensitivityButton SensitivityDoubleBox",children:[Object(o.jsx)("button",{className:"Button first",onClick:A,children:re[s].apply}),Object(o.jsx)("button",{className:"Button second",onClick:F,children:re[s].cancel})]})]})}),[A,F,x,U,M,i,G,c,N,R,z,V,s]);return Object(o.jsx)(o.Fragment,{children:!t||u&&!w||f?null:Object(o.jsx)("div",{className:"Sensitivity",children:H()})})};n(138);var Ut=function(){var e=Object(j.c)((function(e){return e.setDetecting})),t=e.open,n=e.detect,a=e.name,c=Object(j.c)((function(e){return e.updateTextList.textList})),i=Object(j.c)((function(e){return e.updateSoundList.soundList})),s=Object(j.c)((function(e){return e.preferenceReducer})),l=s.sound,u=s.push,d=s.volume,b=s.lang,f=s.bell,m=Object(r.useMemo)((function(){return{0:"/sound-alarm/alarm.mp3",1:"/sound-alarm/alarm2.mp3",2:"/sound-alarm/alarm3.mp3"}}),[]),p=Object(j.c)((function(e){return e.updateLoginState.user._id})),x=Object(r.useState)(!1),h=Object(O.a)(x,2),v=h[0],g=h[1],y=Object(r.useState)(!1),C=Object(O.a)(y,2),S=C[0],k=C[1],N=Object(r.useState)(null),T=Object(O.a)(N,2),L=T[0],E=T[1],w=Object(r.useState)(null),I=Object(O.a)(w,2),R=I[0],B=I[1],_=Object(r.useState)(!1),D=Object(O.a)(_,2),A=D[0],F=D[1],M=Object(r.useState)(null),U=Object(O.a)(M,2),P=U[0],G=U[1],z=Object(r.useState)(""),V=Object(O.a)(z,2),H=V[0],q=V[1],Y=Object(j.b)(),J=Object(r.useCallback)((function(){if(null!==L&&clearTimeout(L),E(null),null!==R){"inactive"!==R.recorder.state&&R.recorder.stop(),R.context.close();for(var e=0;e<R.stream.length;e++)R.stream[e].stop();B(null),g(!1)}}),[R,B,g,L,E]),K=Object(r.useCallback)((function(){Y(te()),$({match:!1,name:""}),F(!1),J(),k(!1)}),[Y,J,F,k]),W=Object(r.useCallback)((function(){var e=new(window.AudioContext||window.webkitAudioContext);navigator.getUserMedia({audio:!0,video:!1},(function(t){var n=e.createMediaStreamSource(t),a=e.createMediaStreamDestination(),c=new MediaRecorder(a.stream);B({recorder:c,context:e,stream:t.getTracks()});var o=e.createBiquadFilter();o.type="bandpass",o.frequency.setValueAtTime(1200,e.currentTime),o.Q.setValueAtTime(5,e.currentTime),n.connect(o),o.connect(a);var r=[];if(c.ondataavailable=function(e){r.push(e.data)},c.onstop=function(t){new Blob(r,{type:"audio/wav"}).arrayBuffer().then((function(t){e.decodeAudioData(t,(function(e){var t=Ft()(e),n=new Blob([t],{type:"audio/wav"}),a=new FormData;a.append("data",n),a.append("_id",p),a.append("mode","compare"),Y(ne(a)),c.start(),clearTimeout(L);var o=setTimeout((function(){c.stop()}),1e4);E(o)}),(function(e){}))})),r=[]},!v){g(!0),c.start();var i=setTimeout((function(){c.stop()}),1e4);E(i)}}),(function(e){console.log("The following gUM error occured: "+e)}))}),[B,p,v,L,g,E,Y]),Q=Object(r.useCallback)((function(){null!==P&&(!n&&t?P.start():(P.stop(),G(null),P.stop()))}),[G,P,n,t]),X=Object(r.useCallback)((function(){var e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.interimResults=!0,e.lang="ko"===b?"ko-KR":"en-US",G(e),e.start(),e.onresult=function(t){var n,a=String(Array.from(t.results).map((function(e){return e[0].transcript})).join("")).split(" "),o=Object(ue.a)(a);try{for(o.s();!(n=o.n()).done;){var r,i=n.value,s=Object(ue.a)(c);try{for(s.s();!(r=s.n()).done;){if(r.value.text===i)return Y($({match:!0,name:i})),void e.stop()}}catch(l){s.e(l)}finally{s.f()}}}catch(l){o.e(l)}finally{o.f()}}}),[c,Y,b]),Z=Object(r.useCallback)((function(){(n||A)&&(Y($({match:!1,name:""})),F(!1),W(),X())}),[Y,F,W,X,n,A]),ee=Object(r.useCallback)((function(){if(l){var e=document.getElementById("alarm");e.src=m[f],e.volume=d/100,e.play()}if(u){var t={body:a+" "+re[b].push[0],icon:"/sound-alarm/faviconcircle.png",dir:"ltr"};new Notification("Sound Alarm!",t)}}),[u,l,d,f,m,a,b]),ae=Object(r.useCallback)((function(){String(a).length>0&&q(String(a))}),[a,q]);Object(r.useEffect)((function(){t&&!S&&(k(!0),i.length>0&&W(),c.length>0&&X()),t||(J(),Q()),n&&!A&&t&&(F(!0),ae(),J(),Q(),ee()),null!==P&&(P.onend=function(){Q()})}),[W,J,t,S,k,n,ee,A,F,X,Q,i,c,P,ae]);var ce=Object(r.useCallback)((function(e,t){return Object(o.jsx)("div",{className:"DetectTextListItem",children:e},t)}),[]),oe=Object(r.useCallback)((function(e,t){return Object(o.jsx)("div",{className:"DetectSoundListItem",children:e},t)}),[]),ie=Object(r.useCallback)((function(){if(0!==c.length)return c.map((function(e,t){return ce(e.text,t)}))}),[c,ce]),se=Object(r.useCallback)((function(){if(0!==i.length)return i.map((function(e,t){return oe(e.name,t)}))}),[i,oe]),le=Object(r.useCallback)((function(){return Object(o.jsxs)("div",{className:"DetectingBox",children:[Object(o.jsx)("div",{className:"Retry",children:Object(o.jsx)(Xe.i,{onClick:Z,size:50})}),Object(o.jsx)("div",{className:"DetectingHead",children:Object(o.jsx)("button",{className:"ESC",onClick:K,children:Object(o.jsx)(Xe.b,{size:35})})}),Object(o.jsxs)("div",{className:"DetectingBoxBody",children:[Object(o.jsx)("div",{className:"ProgressIcon",children:n||A?Object(o.jsx)(Xe.g,{size:100}):Object(o.jsx)(Rt.a,{type:"spinningBubbles",color:"#383838",width:100})}),Object(o.jsx)("div",{className:"ProgressText",children:n||A?H+" "+re[b].detecting[1]:re[b].detecting[0]})]}),Object(o.jsxs)("div",{className:"DetectInfo",children:[Object(o.jsxs)("div",{className:"DetectInfoText",children:[re[b].detecting[3],Object(o.jsx)("div",{className:"DetectTextList",children:ie()})]}),Object(o.jsxs)("div",{className:"DetectInfoSound",children:[re[b].detecting[2],Object(o.jsx)("div",{className:"DetectSoundList",children:se()})]})]})]})}),[K,Z,ie,se,n,A,b,H]);return Object(o.jsx)(o.Fragment,{children:t?Object(o.jsx)("div",{className:"Detecting",children:le()}):null})};var Pt=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(wt,{}),Object(o.jsx)(Mt,{}),Object(o.jsx)(Ut,{}),Object(o.jsx)(Bt,{}),Object(o.jsx)(_t,{})]})},Gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))},zt=n(89),Vt=n.n(zt),Ht=k.a.mark(Jt),qt={key:"root",storage:Vt.a},Yt=Object(u.c)({updateSoundList:De,setModal:fe,preferenceReducer:J,updateTextList:mt,updateLoginState:C,loading:I,setSensitivity:qe,setDetecting:oe});function Jt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Be(),He(),q(),ft(),ce()]);case 2:case"end":return e.stop()}}),Ht)}var Kt=Object(d.a)(qt,Yt),Wt=n(92),Qt=n(90),Xt=n(176),Zt=Object(Qt.a)({typography:{fontFamily:["MaplestoryLight","MaplestoryBold"]}}),$t=Object(Wt.a)(),en=Object(u.e)(Kt,Object(u.a)($t)),tn=Object(d.b)(en);$t.run(Jt),l.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(Xt.a,{theme:Zt,children:Object(o.jsx)(j.a,{store:en,children:Object(o.jsx)(b.a,{loading:null,persistor:tn,children:Object(o.jsx)(Pt,{})})})})}),document.getElementById("root")),Gt()},66:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){}},[[141,1,2]]]);
//# sourceMappingURL=main.b02bc465.chunk.js.map